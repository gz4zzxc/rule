# general
mixed-port: 7890
ipv6: false
allow-lan: true
external-controller: 127.0.0.1:9090
profile:
  store-selected: true
  store-fake-ip: true

##### anchor area START #####
x-pg:
  mini-select-region: &x-pp-select-region
    type: select
    proxies:
      - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      - ğŸ¯ å…¨éƒ¨ç›´è¿
      - âœˆï¸ æ‰‹åŠ¨é€‰æ‹©
      - ğŸ“¥ é«˜è€—æµé‡
      - ğŸ‡­ğŸ‡° é¦™æ¸¯ä¼˜é€‰
      - ğŸ‡ºğŸ‡¸ ç¾å›½ä¼˜é€‰
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬ä¼˜é€‰
      - ğŸ‡¹ğŸ‡¼ å°æ¹¾ä¼˜é€‰
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ä¼˜é€‰
      - ğŸ‡°ğŸ‡· éŸ©å›½ä¼˜é€‰

  mini-select-region-direct: &x-pp-select-region-direct
    type: select
    proxies:
      - ğŸ¯ å…¨éƒ¨ç›´è¿
      - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      - âœˆï¸ æ‰‹åŠ¨é€‰æ‹©
      - ğŸ“¥ é«˜è€—æµé‡
      - ğŸ‡­ğŸ‡° é¦™æ¸¯ä¼˜é€‰
      - ğŸ‡ºğŸ‡¸ ç¾å›½ä¼˜é€‰
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬ä¼˜é€‰
      - ğŸ‡¹ğŸ‡¼ å°æ¹¾ä¼˜é€‰
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ä¼˜é€‰
      - ğŸ‡°ğŸ‡· éŸ©å›½ä¼˜é€‰

  mini-select-all-custom: &x-pp-select-all-custom
    type: select
    include-all: true
    exclude-filter: '(?i)^â„¹ï¸ .+: \d.+ (KB|MB|GB|TB) \/ \d.+ (KB|MB|GB|TB).*$'

  urltest-region: &x-pp-region
    type: url-test
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    lazy: true
    include-all: true
    exclude-filter: "(?i:ä¸“ç”¨)"

##### anchor area END #####
proxy-groups:
  - name: ğŸ”° èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - ğŸ‡ºğŸ‡¸ ç¾å›½ä¼˜é€‰
      - ğŸ¯ å…¨éƒ¨ç›´è¿
      - âœˆï¸ æ‰‹åŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯ä¼˜é€‰
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬ä¼˜é€‰
      - ğŸ‡¹ğŸ‡¼ å°æ¹¾ä¼˜é€‰
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ä¼˜é€‰
      - ğŸ‡°ğŸ‡· éŸ©å›½ä¼˜é€‰

  - name: âœˆï¸ æ‰‹åŠ¨é€‰æ‹©
    <<: *x-pp-select-all-custom

  - name: ğŸ­ Google
    <<: *x-pp-select-region

  - name: â“‚ï¸ Microsoft
    <<: *x-pp-select-region

  - name: â˜ï¸ Onedrive
    <<: *x-pp-select-region-direct

  - name: ğŸ’» Developer
    <<: *x-pp-select-region

  - name: âœ¨ GenAI
    <<: *x-pp-select-region

  - name: ğŸ Apple
    <<: *x-pp-select-region-direct

  - name: ğŸ® Games
    <<: *x-pp-select-region-direct

  - name: ğŸµ Spotify
    <<: *x-pp-select-region

  - name: ğŸ¥ Youtube
    <<: *x-pp-select-region

  - name: ğŸ’¬ Telegram
    <<: *x-pp-select-region

  - name: ğ• Twitter
    <<: *x-pp-select-region

  - name: ğŸ“¥ é«˜è€—æµé‡
    <<: *x-pp-select-all-custom
    proxies:
      - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      - ğŸ¯ å…¨éƒ¨ç›´è¿
      - âœˆï¸ æ‰‹åŠ¨é€‰æ‹©

  - name: ğŸ“¶ Speedtest
    <<: *x-pp-select-all-custom
    proxies:
      - ğŸ¯ å…¨éƒ¨ç›´è¿
      - ğŸ”° èŠ‚ç‚¹é€‰æ‹©
      - âœˆï¸ æ‰‹åŠ¨é€‰æ‹©

  - name: ğŸˆ² Restricted
    <<: *x-pp-select-all-custom

  - name: ğŸ¯ å…¨éƒ¨ç›´è¿
    type: select
    hidden: true
    proxies:
      - DIRECT

  - name: ğŸ›‘ Block
    type: select
    hidden: true
    proxies:
      - REJECT

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    <<: *x-pp-select-region

  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯ä¼˜é€‰
    <<: *x-pp-region
    filter: '(?i)^(?!.*(?:ä¸“ç”¨|noauto))(?=.*(?:ğŸ‡­ğŸ‡°|\bHK[G]?\b|Hong.*?Kong|\bHKT\b|\bHKBN\b|\bHGC\b|\bWTT\b|\bCMI\b|[^-]æ¸¯)).*$'

  - name: ğŸ‡ºğŸ‡¸ ç¾å›½ä¼˜é€‰
    <<: *x-pp-region
    filter: '(?i)^(?!.*(?:ä¸“ç”¨|noauto))(?=.*(?:ğŸ‡ºğŸ‡¸|\bUS[A]?\b|America|United.*?States|ç¾å›½|[^-]ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥)).*$'

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬ä¼˜é€‰
    <<: *x-pp-region
    filter: '(?i)^(?!.*(?:ä¸“ç”¨|noauto))(?=.*(?:ğŸ‡¯ğŸ‡µ|\bJP[N]?\b|Japan|Tokyo|Osaka|Saitama|æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|åŸ¼ç‰|[^-å°¼]æ—¥)).*$'

  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾ä¼˜é€‰
    <<: *x-pp-region
    filter: '(?i)^(?!.*(?:ä¸“ç”¨|noauto))(?=.*(?:ğŸ‡¹ğŸ‡¼|\bTW[N]?\b|Taiwan|æ–°åŒ—|å½°åŒ–|\bCHT\b|å°æ¹¾|[^-]å°|\bHINET\b)).*$'

  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ä¼˜é€‰
    <<: *x-pp-region
    filter: '(?i)^(?!.*(?:ä¸“ç”¨|noauto))(?=.*(?:ğŸ‡¸ğŸ‡¬|\bSG[P]?\b|Singapore|æ–°åŠ å¡|ç‹®åŸ)).*$'

  - name: ğŸ‡°ğŸ‡· éŸ©å›½ä¼˜é€‰
    <<: *x-pp-region
    filter: '(?i)^(?!.*(?:ä¸“ç”¨|noauto))(?=.*(?:ğŸ‡°ğŸ‡·|\bK[O]?R\b|Korea|é¦–å°”|éŸ©|éŸ“)).*$'

##### anchor area START #####
x-rp:
  yaml: &x-rp-yaml
    type: http
    behavior: classical
    format: yaml
    interval: 86400
  text: &x-rp-text
    type: http
    behavior: classical
    format: text
    interval: 86400
  mrs: &x-rp-mrs
    type: http
    format: mrs
    interval: 86400
##### anchor area END #####
rule-providers:
  MyDirect:
    <<: *x-rp-text
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/gz4zzxc/rule@main/Clash/list/myCN.list
  MyProxy:
    <<: *x-rp-text
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/gz4zzxc/rule@main/Clash/list/foreign.list
  Private_domain:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.mrs
  Private_ip:
    <<: *x-rp-mrs
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/private.mrs
  Tracker:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/tracker.mrs
  PT:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-pt.mrs
  GenAIOverseas:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-ai-!cn.mrs
  GenAIOverseasExtra:
    <<: *x-rp-text
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/jimlee2048/atc-config@main/clash/rules/GenAIExtra.list
  Bing:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/bing.mrs
  DeveloperDirect:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-dev@cn.mrs
  DeveloperOverseas:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-dev.mrs
  OneDrive:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/onedrive.mrs
  Microsoft:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/microsoft.mrs
  MicrosoftDirect:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/microsoft@cn.mrs
  Google:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/google.mrs
  AppleProxy:
    <<: *x-rp-text
    behavior: classical
    url: https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/AppleProxy/AppleProxy.list
  Apple:
    <<: *x-rp-text
    behavior: classical
    url: https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Apple/Apple.list
  GamesDownload:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-game-platforms-download.mrs
  GamesDirect:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-games@cn.mrs
  GamesOverseas:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-games-!cn.mrs
  Spotify:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/spotify.mrs
  YouTube:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/youtube.mrs
  Telegram:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/telegram.mrs
  Twitter:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/twitter.mrs
  ProxyHighBandwidth:
    <<: *x-rp-text
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/jimlee2048/atc-config@main/clash/rules/ProxyHighBandwidth.list
  Speedtest:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-speedtest.mrs
  RestrictedZones:
    <<: *x-rp-text
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/gz4zzxc/rule@main/Clash/list/fallback.list
  China_domain:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/cn.mrs
  Overseas_domain:
    <<: *x-rp-mrs
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/geolocation-!cn.mrs
  China_ip:
    <<: *x-rp-mrs
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cn.mrs

rules:
  # 1. local
  - RULE-SET,Private_domain,ğŸ¯ å…¨éƒ¨ç›´è¿
  - RULE-SET,Private_ip,ğŸ¯ å…¨éƒ¨ç›´è¿,no-resolve

  # 2. custom override
  - RULE-SET,MyDirect,ğŸ¯ å…¨éƒ¨ç›´è¿
  - RULE-SET,MyProxy,ğŸ”° èŠ‚ç‚¹é€‰æ‹©

  # 3. direct
  - RULE-SET,Tracker,ğŸ¯ å…¨éƒ¨ç›´è¿
  - RULE-SET,PT,ğŸ¯ å…¨éƒ¨ç›´è¿
  - RULE-SET,MicrosoftDirect,ğŸ¯ å…¨éƒ¨ç›´è¿
  - RULE-SET,GamesDownload,ğŸ¯ å…¨éƒ¨ç›´è¿
  - RULE-SET,GamesDirect,ğŸ¯ å…¨éƒ¨ç›´è¿
  - RULE-SET,DeveloperDirect,ğŸ¯ å…¨éƒ¨ç›´è¿

  # 4. proxy
  - RULE-SET,ProxyHighBandwidth,ğŸ“¥ é«˜è€—æµé‡
  - RULE-SET,RestrictedZones,ğŸˆ² Restricted
  - RULE-SET,Bing,ğŸ‡ºğŸ‡¸ ç¾å›½ä¼˜é€‰
  - RULE-SET,GenAIOverseas,âœ¨ GenAI
  - RULE-SET,GenAIOverseasExtra,âœ¨ GenAI
  - RULE-SET,OneDrive,â˜ï¸ Onedrive
  - RULE-SET,Microsoft,â“‚ï¸ Microsoft
  - RULE-SET,YouTube,ğŸ¥ Youtube
  - RULE-SET,Google,ğŸ­ Google
  - RULE-SET,AppleProxy,ğŸ”° èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,DeveloperOverseas,ğŸ’» Developer
  - RULE-SET,Apple,ğŸ Apple
  - RULE-SET,Spotify,ğŸµ Spotify
  - RULE-SET,Telegram,ğŸ’¬ Telegram
  - RULE-SET,Twitter,ğ• Twitter
  - RULE-SET,Speedtest,ğŸ“¶ Speedtest
  - RULE-SET,GamesOverseas,ğŸ® Games

  # 5. final
  - RULE-SET,China_domain,ğŸ¯ å…¨éƒ¨ç›´è¿
  - RULE-SET,Overseas_domain,ğŸ”° èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,China_ip,ğŸ¯ å…¨éƒ¨ç›´è¿,no-resolve
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼